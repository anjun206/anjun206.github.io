/* =========================================================
   custom.css for git-wiki
   - 인라인 코드(백틱)를 '칩' 스타일로
   - 코드 블록 가독성/다크모드 글자색 고정
   ========================================================= */

/* ---------- Theme variables ---------- */
:root{
  /* inline chip */
  --chip-bg: #f1f2f4;
  --chip-fg: #111827;
  --chip-border: #d1d5db;

  /* code block */
  --code-bg: #f5f5f7;
  --code-fg: #24292e;
  --code-border: #e5e7eb;
}

/* 시스템 다크모드 대응 */
@media (prefers-color-scheme: dark){
  :root{
    --chip-bg: #2a2f36;
    --chip-fg: #ffffff;
    --chip-border: #3a3f46;

    --code-bg: #1f2937;
    --code-fg: #ffffff;
    --code-border: #374151;
  }
}

/* 다크 모드 클래스를 쓰는 테마도 커버 */
html.dark, html[data-theme="dark"], body.dark{
  --chip-bg: #2a2f36;
  --chip-fg: #ffffff;
  --chip-border: #3a3f46;

  --code-bg: #1f2937;
  --code-fg: #ffffff;
  --code-border: #374151;
}

/* ---------- Inline code → chip ---------- */
/* github.css의 body>.wrapper code 규칙을 확실히 이기도록 범위 강화 */
body>.wrapper :not(pre) > code{
  background: var(--chip-bg) !important;
  color: var(--chip-fg) !important;
  border: 1px solid var(--chip-border) !important;

  display: inline-block;
  padding: 0.1em 0.6em !important;
  margin: 0 .12em;
  border-radius: 9999px !important;   /* pill 모양 */
  font-weight: 500;

  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
               "Liberation Mono", "Courier New", monospace;
  font-size: 0.95em;
  line-height: 1.6;
  vertical-align: baseline;

  background-clip: padding-box;
  box-shadow: inset 0 -0.5px 0 rgba(0,0,0,.06);
  white-space: break-spaces;          /* 길 때 자연 줄바꿈 */
}

/* 표/리스트 안 인라인 코드도 같은 룩 */
body>.wrapper td code,
body>.wrapper li code{
  background: var(--chip-bg) !important;
  color: var(--chip-fg) !important;
  border: 1px solid var(--chip-border) !important;
  border-radius: 9999px !important;
  padding: 0.06em 0.5em !important;
}

/* 사이즈 변형 */
body>.wrapper code.chip-sm{ font-size: .85em; padding: .05em .5em !important; }
body>.wrapper code.chip-lg{ font-size: 1.05em; padding: .2em .8em !important; }

/* ---------- Code blocks ---------- */
/* fenced ``` 코드 & Rouge 래퍼들 */
body>.wrapper pre,
body>.wrapper .highlighter-rouge,
body>.wrapper .highlight{
  background: var(--code-bg) !important;
  border: 1px solid var(--code-border) !important;
  border-radius: 8px !important;
  overflow: auto;
  padding: 1rem !important;
  margin: .85rem 0;
  line-height: 1.55;
  color: var(--code-fg) !important;
}

/* 블록 내부 code는 배경 제거 + 글자색 고정(다크에서 탁해지는 문제 방지) */
body>.wrapper pre code,
body>.wrapper .highlighter-rouge code,
body>.wrapper .highlight code{
  background: transparent !important;
  color: var(--code-fg) !important;
}

/* 선택: 너무 긴 단어가 박스를 터뜨리면 아래 주석 해제
body>.wrapper pre{ word-wrap: normal; overflow-wrap: anywhere; }
*/

/* ---------- Misc ---------- */
/* 다른 스타일시트가 인라인 코드 둥근 정도/패딩을 덮어쓰는 걸 방지 */
body>.wrapper code{ border-radius: 3px; } /* 기본값 – 위의 칩 규칙이 우선함 */
